# 画面一覧と遷移図

## 1. 参加者（User）画面

| 画面ID | 説明 |
|--------|------|
| U0 | イベントLP（同意→撮影開始） |
| U1 | カメラ（撮影/撮り直し・最大3回まで） |
| U2 | プレビュー（30秒で自動KEEP or 手動KEEP） |
| U3 | 応募確定（提出ボタン・session単位で1回のみ） |
| U4 | 保存/シェア（キャプションコピー、IG/X誘導） |
| U5 | 完了（再アクセス時は「提出済み」） |

- **撮影**: 最大3回（イベントの `retake_max_count`）。3回目以降は「撮り直す」非表示。
- **プレビュー**: 各撮影後30秒で自動KEEP。または「KEEP」押下で応募確定へ。
- **応募確定**: 同意チェック後「提出する」。提出後は再提出不可（session単位ロック）。
- **📷撮影**: カメラ〜完了まで sticky header で常時表示。

### 参加者 画面遷移図（Mermaid）

```mermaid
flowchart TD
  A[U0: イベントLP / 同意] -->|同意して開始| B[U1: カメラ]
  B -->|撮影 最大3回| C[U2: プレビュー]
  C -->|撮り直す 残り回数あり| B
  C -->|KEEP or 30秒で自動| D[U3: 応募確定]
  D -->|提出する| E[U4: 保存・シェア導線]
  E --> F[U5: 完了]
  A -->|既に提出済み| F
```

---

## 2. 主催者（Admin）画面

| 画面ID | 説明 |
|--------|------|
| A0 | ログイン |
| A1 | イベント一覧 |
| A2 | イベント作成（10分セットアップ） |
| A3 | イベント編集（文言・ハッシュタグ・同意文言・SNS導線） |
| A4 | フレーム管理（アップロード/プレビュー/差替） |
| A5 | QR管理（入口別QR / ワンタイムQR） |
| A6 | ダッシュボード（scan/capture/save/outbound/submit） |
| A7 | 応募一覧（同意有無/候補タグ/DL） |
| A8 | エクスポート（CSV） |

### 管理画面 遷移図（Mermaid）

```mermaid
flowchart TD
  L[A0: ログイン] --> E[A1: イベント一覧]
  E --> C[A2: 新規イベント作成]
  E --> S[A6: ダッシュボード]
  E --> M[A7: 応募一覧]
  S --> Q[A5: QR管理]
  S --> F[A4: フレーム管理]
  S --> P[A3: イベント設定]
  M --> X[A8: CSVエクスポート]
```
