# PWA と iOS/Android ネイティブアプリの検討

イベント期間中に参加者体験をシームレスにするため、PWA のまま運用するか、ネイティブアプリ化を検討するかの整理です。

## 現状（PWA）

- 参加者フローは **ブラウザ（PWA）** で完結
- QRコード読み取り → ブラウザで `/e/{event_token}` を開く → 撮影・応募
- **メリット**: 開発・配布が一括、審査不要、即時更新、URLだけで参加可能
- **デメリット**: カメラ起動やバックグラウンド制約がOSに依存する

## ネイティブアプリを検討する場合

### 検討の目安

| 観点 | PWA で足りる | ネイティブを検討 |
|------|----------------|------------------|
| カメラ | 基本的な撮影・プレビューができればよい | 高画質・リアルタイム加工・複数枚を厳密に制御したい |
| オフライン | 会場のWi‑Fi/回線が安定している | 会場の回線が不安定で、オフラインでも一部動かしたい |
| 導線 | QR→ブラウザで十分 | ホーム画面追加や「アプリ」としての認知を強くしたい |
| 運用 | イベントごとにURL共有でよい | 常時「AnyPickアプリ」としてストアに置きたい |

### シームレスさのポイント

- **PWA でもできること**
  - ホーム画面に追加（「アプリのように使う」）
  - フルスクリーン・ステータスバー制御（manifest / theme_color）
  - 撮影〜提出までの導線を一画面内で完結（sticky header など）
- **ネイティブが有利なこと**
  - カメラAPIの細かい制御（解像度・フラッシュ・フォーカス）
  - バックグラウンドやマルチタスク時の挙動の安定
  - プッシュ通知・ストア経由の認知

## 推奨

1. **まずは PWA で運用**
   - 撮影最大3回・30秒自動KEEP・応募確定・sticky header などは PWA で実装済み
   - イベントの「QR読み取り → 撮影 → 提出」は現状のPWAでシームレスに実施可能

2. **ネイティブアプリ化は「必要が出てから」**
   - 会場の回線が常に悪い・オフライン必須の会場が多い
   - カメラ品質や制御で明確に不満が出ている
   - ブランドとして「ストアにアプリを置きたい」要件がはっきりした  
   といった段階で、React Native / Flutter / Kotlin+Swift 等のネイティブ実装を検討するのが現実的です。

3. **ハイブリッド（Capacitor / Cordova）**
   - 既存の Web 資産を活かしつつストア配布したい場合は、Capacitor 等でラップしてネイティブ化する選択肢もあります。その場合も、まずは PWA でフローを固めてからラップする形がおすすめです。
